{"ast":null,"code":"var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n  return [[region, endpointPrefix], [regionPrefix, endpointPrefix], [region, '*'], [regionPrefix, '*'], ['*', endpointPrefix], ['*', '*']].map(function (item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\nfunction applyConfig(service, config) {\n  util.each(config, function (key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = '{service}.dualstack.{region}.amazonaws.com';\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = configureEndpoint;","map":{"version":3,"names":["util","require","regionConfig","generateRegionPrefix","region","parts","split","length","slice","join","derivedKeys","service","config","regionPrefix","endpointPrefix","api","map","item","applyConfig","each","key","value","undefined","configureEndpoint","keys","i","Object","prototype","hasOwnProperty","call","rules","patterns","useDualstack","isDualstackAvailable","copy","endpoint","isGlobalEndpoint","globalEndpoint","signatureVersion","module","exports"],"sources":["C:/Study/6805/React/reacthtml/node_modules/aws-sdk/lib/region_config.js"],"sourcesContent":["var util = require('./util');\nvar regionConfig = require('./region_config_data.json');\n\nfunction generateRegionPrefix(region) {\n  if (!region) return null;\n\n  var parts = region.split('-');\n  if (parts.length < 3) return null;\n  return parts.slice(0, parts.length - 2).join('-') + '-*';\n}\n\nfunction derivedKeys(service) {\n  var region = service.config.region;\n  var regionPrefix = generateRegionPrefix(region);\n  var endpointPrefix = service.api.endpointPrefix;\n\n  return [\n    [region, endpointPrefix],\n    [regionPrefix, endpointPrefix],\n    [region, '*'],\n    [regionPrefix, '*'],\n    ['*', endpointPrefix],\n    ['*', '*']\n  ].map(function(item) {\n    return item[0] && item[1] ? item.join('/') : null;\n  });\n}\n\nfunction applyConfig(service, config) {\n  util.each(config, function(key, value) {\n    if (key === 'globalEndpoint') return;\n    if (service.config[key] === undefined || service.config[key] === null) {\n      service.config[key] = value;\n    }\n  });\n}\n\nfunction configureEndpoint(service) {\n  var keys = derivedKeys(service);\n  for (var i = 0; i < keys.length; i++) {\n    var key = keys[i];\n    if (!key) continue;\n\n    if (Object.prototype.hasOwnProperty.call(regionConfig.rules, key)) {\n      var config = regionConfig.rules[key];\n      if (typeof config === 'string') {\n        config = regionConfig.patterns[config];\n      }\n\n      // set dualstack endpoint\n      if (service.config.useDualstack && util.isDualstackAvailable(service)) {\n        config = util.copy(config);\n        config.endpoint = '{service}.dualstack.{region}.amazonaws.com';\n      }\n\n      // set global endpoint\n      service.isGlobalEndpoint = !!config.globalEndpoint;\n\n      // signature version\n      if (!config.signatureVersion) config.signatureVersion = 'v4';\n\n      // merge config\n      applyConfig(service, config);\n      return;\n    }\n  }\n}\n\n/**\n * @api private\n */\nmodule.exports = configureEndpoint;\n"],"mappings":"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"},"metadata":{},"sourceType":"script","externalDependencies":[]}